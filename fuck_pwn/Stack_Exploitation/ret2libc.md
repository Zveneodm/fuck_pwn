# ret2libc
泄露libc基地址之后，使用ROP方法执行system("/bin/sh")
### 泄露libc的方法
1.栈溢出调用puts/printf一类输出函数（通过plt来调用），传参64位需要寻找gadgets，32位直接按正确顺序放到栈上，参数为GOT表项。

2.一般总会有一个偏移于__libc_start_main的地址在栈上，可以通过一些零字节处理的失误或者格式化字符串漏洞来打印出来。

3.利用unsorted bin的双向链表性质，泄露main_arena的地址，而main_arena是libc中的一个全局变量，所以可以获得libc基址
### 构造ROP链

#### 64位

函数参数分别放在rdi,rsi,rdx,rcx,r8,r9上，其余的参数通过栈来传递。

系统调用号由rax来传递。
+--------------------------+
        &pop rdi; ret
+--------------------------+
            param1
+--------------------------+
        &pop rsi; ret
+--------------------------+
            param2
+--------------------------+
        target_addr
+--------------------------+
### 
